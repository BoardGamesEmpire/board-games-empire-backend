model EventAttendee {
  id      String @id @default(cuid(2))
  event   Event  @relation(fields: [eventId], references: [id], onDelete: Cascade)
  eventId String @map("event_id")

  user   User?   @relation(fields: [userId], references: [id])
  userId String? @map("user_id")

  guestName  String? @map("guest_name")
  guestEmail String? @map("guest_email")

  status EventParticipationStatus @default(Invited)

  role EventAttendeeRole?

  invitedBy   EventAttendee?  @relation("InvitedAttendees", fields: [invitedById], references: [id])
  invitedById String?         @map("invited_by_id")
  invitees    EventAttendee[] @relation("InvitedAttendees")

  gamesContributing EventGame[]
  bringingGames     EventAttendeeGameList[]

  notes    String?
  rsvpDate DateTime? @map("rsvp_date") @db.Timestamptz(3)

  createdAt DateTime @default(now()) @map("created_at") @db.Timestamptz(3)
  updatedAt DateTime @updatedAt      @map("updated_at") @db.Timestamptz(3)

  @@unique([eventId, userId])
  @@index([eventId])
  @@map("event_attendees")
}
