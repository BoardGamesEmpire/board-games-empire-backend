model Permission {
  id String @id @default(cuid(2))

  action      Action
  subject     String   // e.g., 'Game', 'User', 'all'
  fields      String[] // Optional: e.g., '["title", "content"]'
  conditions  Json?    // ABAC magic: { ownerId: '{{ user.id }}' } â€“ templated
  inverted    Boolean  @default(false)
  reason      String?  // Audit trail: "Owner-only update"
  slug        String   @unique // stable code-side identifier e.g. 'game:read'

  apiKeyScopes    ApiKeyScope[]
  rolePermissions RolePermission[]
  userPermissions UserPermission[]

  createdAt DateTime @default(now()) @map("created_at") @db.Timestamptz(3)
  updatedAt DateTime @updatedAt @map("updated_at") @db.Timestamptz(3)

  @@map("permissions")
}
